# üöÄ My Airflow Pipeline (Astro CLI + Papermill)

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö Data Pipeline ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô‡∏ö‡∏ô **Apache Airflow** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ **Astro CLI** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Container ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ **Papermill** ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô Jupyter Notebooks

## üõ†Ô∏è ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
* **Astro CLI:** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ô Airflow ‡∏ö‡∏ô Docker ‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢
* **Apache Airflow:** ‡∏ï‡∏±‡∏ß‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Workflow (Orchestrator)
* **Papermill:** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏±‡πà‡∏á‡∏£‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á Parameter ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô Jupyter Notebook (`.ipynb`)

## üìÇ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
* `dags/`: ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå Python ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏¥‡∏¢‡∏≤‡∏° Workflow (DAGs)
* `include/`: ‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ü‡∏•‡πå Jupyter Notebooks (.ipynb) ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô
* `requirements.txt`: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Python libraries ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ (‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á papermill)

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå (Local Development)

1. **‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°:** ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡∏¥‡∏î Docker Desktop ‡∏≠‡∏¢‡∏π‡πà
2. **‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:** ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô Terminal:
astro dev start

‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°: ‡πÑ‡∏õ‡∏ó‡∏µ‡πà http://localhost:8080

User: admin
Password: admin

üìù ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏° Notebook ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ Pipeline
‡∏ô‡∏≥‡πÑ‡∏ü‡∏•‡πå .ipynb ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå include/

‡∏ï‡∏±‡πâ‡∏á Tag ‡πÉ‡∏´‡πâ Cell ‡πÅ‡∏£‡∏Å‡πÉ‡∏ô Notebook ‡πÄ‡∏õ‡πá‡∏ô parameters (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Papermill ‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÑ‡∏î‡πâ)

‡∏™‡∏£‡πâ‡∏≤‡∏á DAG ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå dags/ ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ PapermillOperator

‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏£‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î Container ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:
astro dev stop

‡πÄ‡∏ä‡πá‡∏Ñ apache-airflow-providers-postgres
astro dev bash --scheduler
pip list | grep postgres


‡∏Å‡∏≤‡∏£‡∏ù‡∏±‡∏á Tag "parameters" ‡πÉ‡∏ô VS Code
‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ VS Code ‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏™‡πÄ‡∏ï‡πá‡∏õ‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Papermill ‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏±‡∏ö:

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå test_notebook.ipynb ‡πÉ‡∏ô VS Code

‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà Cell ‡πÅ‡∏£‡∏Å ‡∏Ç‡∏≠‡∏á Notebook (Cell ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÑ‡∏ß‡πâ)

‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏° Gear (‡∏õ‡∏∏‡πà‡∏°‡∏ü‡∏±‡∏ô‡πÄ‡∏ü‡∏∑‡∏≠‡∏á) ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ... (More Actions) ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á Cell ‡∏ô‡∏±‡πâ‡∏ô

‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Add Tag (‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≠‡∏á‡∏´‡∏≤‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏û‡∏¥‡∏°‡∏û‡πå Tags)

‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ parameters ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Enter

‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡∏£‡∏£‡∏Ñ

Save ‡πÑ‡∏ü‡∏•‡πå Notebook

‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Tag ‡∏ï‡∏¥‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á?
‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô UI ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡∏ó‡∏≥‡∏ß‡∏¥‡∏ò‡∏µ "‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏™‡πâ‡πÉ‡∏ô" ‡∏î‡∏π‡∏Ñ‡∏£‡∏±‡∏ö:

‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡∏ó‡∏µ‡πà‡πÑ‡∏ü‡∏•‡πå .ipynb ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Explorer ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Open With... -> Text Editor

‡∏Å‡∏î Ctrl + F ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "tags":

‡∏ñ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏°‡∏±‡∏ô‡∏Ñ‡∏ß‡∏£‡∏à‡∏∞‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå JSON:

"metadata": {
  "tags": [
   "parameters"
  ]
 }

 ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ
‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà Airflow ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Trigger DAG ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

‡πÑ‡∏õ‡∏î‡∏π Log ‡∏Ç‡∏≠‡∏á run_analysis ‡∏Ñ‡∏£‡∏≤‡∏ß‡∏ô‡∏µ‡πâ‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô WARNING - Input notebook does not contain a cell with tag 'parameters' ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏¢‡πÑ‡∏õ

‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå out-2026-02-14.ipynb ‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏î‡∏π ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô Cell ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ß‡πà‡∏≤:
# Parameters
execution_date = "2026-02-14"
run_id = "manual__2026-02-14T..."
threshold = 100
